"use strict";var resourceBundle,auth={},locale="en",module=angular.module("keycloak",["keycloak.services","keycloak.loaders","ui.bootstrap","ui.select2","angularFileUpload","angularTreeview","pascalprecht.translate","ngCookies","ngSanitize","ui.ace"]),resourceRequests=0,loadingTimer=-1,translateProvider=null,currentRealm=null;angular.element(document).ready((function(){var e=new Keycloak(consoleBaseUrl+"config");function r(r,t){var n=new XMLHttpRequest;n.open("GET",consoleBaseUrl+"whoami",!0),n.setRequestHeader("Accept","application/json"),n.setRequestHeader("Authorization","bearer "+e.token),n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){var e=JSON.parse(n.responseText);r(e)}else t()},n.send()}function t(e){return e&&e.realm_access}e.onAuthLogout=function(){location.reload()},auth.refreshPermissions=function(e,n){r((function(r){auth.user=r,auth.loggedIn=!0,auth.hasAnyAccess=t(r),e()}),(function(){n()}))},module.factory("Auth",(function(){return auth})),e.init({onLoad:"login-required",pkceMethod:"S256"}).then((function(){auth.authz=e,r((function(e){auth.user=e,auth.loggedIn=!0,auth.hasAnyAccess=t(e),locale=auth.user.locale||locale,function(e,r){var t=new XMLHttpRequest;t.open("GET",consoleBaseUrl+"messages.json?lang="+locale,!0),t.setRequestHeader("Accept","application/json"),t.onreadystatechange=function(){if(4==t.readyState)if(200==t.status){var n=JSON.parse(t.responseText);e&&e(n)}else r&&r()},t.send()}((function(e){resourceBundle=e,angular.bootstrap(document,["keycloak"]).get("$translate")("consoleTitle").then((function(e){document.title=e}))}))})),function(){if(-1!=["ar","az","bg","ca","cs","da","de","el","es","et","eu","fa","fi","fr","gl","he","hr","hu","id","is","it","ja","ka","ko","lt","lv","mk","ms","nl","no","pl","pt-BR","pt-PT","ro","rs","ru","sk","sv","th","tr","ug-CN","uk","vi","zh-CN","zh-TW"].indexOf(locale)){for(var e,r=document.getElementsByTagName("script"),t=0,n=r.length;t<n;t++){var l=r[t].getAttribute("src");if(l&&l.match(/\/select2\/select2\.js$/)){e=l;break}}if(e){var o=document.createElement("script");o.src=e.replace(/\/select2\/select2\.js$/,"/select2/select2_locale_"+locale+".js"),o.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(o)}}}()})).catch((function(){window.location.reload()}))})),module.factory("authInterceptor",(function(e,r){return{request:function(t){if(t.url.match(/.html$/))return t;var n=e.defer();return r.authz.token&&r.authz.updateToken(5).then((function(){t.headers=t.headers||{},t.headers.Authorization="Bearer "+r.authz.token,n.resolve(t)})).catch((function(){location.reload()})),n.promise}}})),module.config(["$translateProvider",function(e){translateProvider=e,e.useSanitizeValueStrategy("sanitizeParameters"),e.preferredLanguage(locale),e.translations(locale,resourceBundle)}]),module.config(["$locationProvider",function(e){e.hashPrefix("")}]),module.config(["$routeProvider",function(e){e.when("/create/realm",{templateUrl:resourceUrl+"/partials/realm-create.html",resolve:{},controller:"RealmCreateCtrl"}).when("/realms/:realm",{templateUrl:resourceUrl+"/partials/realm-detail.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"RealmDetailCtrl"}).when("/realms/:realm/localization",{templateUrl:resourceUrl+"/partials/realm-localization.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()},realmSpecificLocales:function(e){return e()}},controller:"RealmLocalizationCtrl"}).when("/realms/:realm/localization/upload",{templateUrl:resourceUrl+"/partials/realm-localization-upload.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"RealmLocalizationUploadCtrl"}).when("/realms/:realm/login-settings",{templateUrl:resourceUrl+"/partials/realm-login-settings.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e.delay}},controller:"RealmLoginSettingsCtrl"}).when("/realms/:realm/theme-settings",{templateUrl:resourceUrl+"/partials/realm-theme-settings.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"RealmThemeCtrl"}).when("/realms/:realm/cache-settings",{templateUrl:resourceUrl+"/partials/realm-cache-settings.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"RealmCacheCtrl"}).when("/realms",{templateUrl:resourceUrl+"/partials/realm-list.html",controller:"RealmListCtrl"}).when("/realms/:realm/token-settings",{templateUrl:resourceUrl+"/partials/realm-tokens.html",resolve:{serverInfo:function(e){return e()},realm:function(e){return e()}},controller:"RealmTokenDetailCtrl"}).when("/realms/:realm/client-registration/client-initial-access",{templateUrl:resourceUrl+"/partials/client-initial-access.html",resolve:{realm:function(e){return e()},clientInitialAccess:function(e){return e()}},controller:"ClientInitialAccessCtrl"}).when("/realms/:realm/client-registration/client-initial-access/create",{templateUrl:resourceUrl+"/partials/client-initial-access-create.html",resolve:{realm:function(e){return e()}},controller:"ClientInitialAccessCreateCtrl"}).when("/realms/:realm/client-registration/client-reg-policies",{templateUrl:resourceUrl+"/partials/client-reg-policies.html",resolve:{realm:function(e){return e()},policies:function(e){return e.loadComponents(null,"org.keycloak.services.clientregistration.policy.ClientRegistrationPolicy")},clientRegistrationPolicyProviders:function(e){return e()}},controller:"ClientRegPoliciesCtrl"}).when("/realms/:realm/client-registration/client-reg-policies/create/:componentType/:providerId",{templateUrl:resourceUrl+"/partials/client-reg-policy-detail.html",resolve:{realm:function(e){return e()},instance:function(e){return{providerType:"org.keycloak.services.clientregistration.policy.ClientRegistrationPolicy",subType:e.current.params.componentType,providerId:e.current.params.providerId}},clientRegistrationPolicyProviders:function(e){return e()}},controller:"ClientRegPolicyDetailCtrl"}).when("/realms/:realm/client-registration/client-reg-policies/:provider/:componentId",{templateUrl:resourceUrl+"/partials/client-reg-policy-detail.html",resolve:{realm:function(e){return e()},instance:function(e){return e()},clientRegistrationPolicyProviders:function(e){return e()}},controller:"ClientRegPolicyDetailCtrl"}).when("/realms/:realm/keys",{templateUrl:resourceUrl+"/partials/realm-keys.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()},keys:function(e){return e()}},controller:"RealmKeysCtrl"}).when("/realms/:realm/keys/passive",{templateUrl:resourceUrl+"/partials/realm-keys-passive.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()},keys:function(e){return e()}},controller:"RealmKeysCtrl"}).when("/realms/:realm/keys/disabled",{templateUrl:resourceUrl+"/partials/realm-keys-disabled.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()},keys:function(e){return e()}},controller:"RealmKeysCtrl"}).when("/realms/:realm/keys/providers",{templateUrl:resourceUrl+"/partials/realm-keys-providers.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"RealmKeysProvidersCtrl"}).when("/create/keys/:realm/providers/:provider",{templateUrl:resourceUrl+"/partials/realm-keys-generic.html",resolve:{realm:function(e){return e()},instance:function(){return{}},providerId:function(e){return e.current.params.provider},serverInfo:function(e){return e()}},controller:"GenericKeystoreCtrl"}).when("/realms/:realm/keys/providers/:provider/:componentId",{templateUrl:resourceUrl+"/partials/realm-keys-generic.html",resolve:{realm:function(e){return e()},instance:function(e){return e()},providerId:function(e){return e.current.params.provider},serverInfo:function(e){return e()}},controller:"GenericKeystoreCtrl"}).when("/realms/:realm/identity-provider-settings",{templateUrl:resourceUrl+"/partials/realm-identity-provider.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()},instance:function(e){return{}},providerFactory:function(e){return{}},authFlows:function(e){return{}}},controller:"RealmIdentityProviderCtrl"}).when("/create/identity-provider/:realm/:provider_id",{templateUrl:function(e){return resourceUrl+"/partials/realm-identity-provider-"+e.provider_id+".html"},resolve:{realm:function(e){return e()},serverInfo:function(e){return e()},instance:function(e){return{}},providerFactory:function(e){return new e},authFlows:function(e){return e()}},controller:"RealmIdentityProviderCtrl"}).when("/realms/:realm/identity-provider-settings/provider/:provider_id/:alias",{templateUrl:function(e){return resourceUrl+"/partials/realm-identity-provider-"+e.provider_id+".html"},resolve:{realm:function(e){return e()},serverInfo:function(e){return e()},instance:function(e){return e()},providerFactory:function(e){return e()},authFlows:function(e){return e()}},controller:"RealmIdentityProviderCtrl"}).when("/realms/:realm/identity-provider-settings/provider/:provider_id/:alias/export",{templateUrl:resourceUrl+"/partials/realm-identity-provider-export.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()},identityProvider:function(e){return e()},providerFactory:function(e){return e()}},controller:"RealmIdentityProviderExportCtrl"}).when("/realms/:realm/identity-provider-mappers/:alias/mappers",{templateUrl:function(e){return resourceUrl+"/partials/identity-provider-mappers.html"},resolve:{realm:function(e){return e()},identityProvider:function(e){return e()},mapperTypes:function(e){return e()},mappers:function(e){return e()}},controller:"IdentityProviderMapperListCtrl"}).when("/realms/:realm/identity-provider-mappers/:alias/mappers/:mapperId",{templateUrl:function(e){return resourceUrl+"/partials/identity-provider-mapper-detail.html"},resolve:{realm:function(e){return e()},identityProvider:function(e){return e()},mapperTypes:function(e){return e()},mapper:function(e){return e()}},controller:"IdentityProviderMapperCtrl"}).when("/create/identity-provider-mappers/:realm/:alias",{templateUrl:function(e){return resourceUrl+"/partials/identity-provider-mapper-detail.html"},resolve:{realm:function(e){return e()},identityProvider:function(e){return e()},mapperTypes:function(e){return e()}},controller:"IdentityProviderMapperCreateCtrl"}).when("/realms/:realm/default-roles",{templateUrl:resourceUrl+"/partials/realm-default-roles.html",resolve:{realm:function(e){return e()},roles:function(e){return e()}},controller:"RealmDefaultRolesCtrl"}).when("/realms/:realm/smtp-settings",{templateUrl:resourceUrl+"/partials/realm-smtp.html",resolve:{realm:function(e){return e()}},controller:"RealmSMTPSettingsCtrl"}).when("/realms/:realm/events",{templateUrl:resourceUrl+"/partials/realm-events.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"RealmEventsCtrl"}).when("/realms/:realm/admin-events",{templateUrl:resourceUrl+"/partials/realm-events-admin.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"RealmAdminEventsCtrl"}).when("/realms/:realm/events-settings",{templateUrl:resourceUrl+"/partials/realm-events-config.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()},eventsConfig:function(e){return e()}},controller:"RealmEventsConfigCtrl"}).when("/realms/:realm/partial-import",{templateUrl:resourceUrl+"/partials/partial-import.html",resolve:{resourceName:function(){return"users"},realm:function(e){return e()}},controller:"RealmImportCtrl"}).when("/realms/:realm/partial-export",{templateUrl:resourceUrl+"/partials/partial-export.html",resolve:{realm:function(e){return e()}},controller:"RealmExportCtrl"}).when("/create/user/:realm",{templateUrl:resourceUrl+"/partials/user-detail.html",resolve:{realm:function(e){return e()},user:function(){return{}}},controller:"UserDetailCtrl"}).when("/realms/:realm/users/:user",{templateUrl:resourceUrl+"/partials/user-detail.html",resolve:{realm:function(e){return e()},user:function(e){return e()}},controller:"UserDetailCtrl"}).when("/realms/:realm/users/:user/user-attributes",{templateUrl:resourceUrl+"/partials/user-attributes.html",resolve:{realm:function(e){return e()},user:function(e){return e()}},controller:"UserDetailCtrl"}).when("/realms/:realm/users/:user/user-credentials",{templateUrl:resourceUrl+"/partials/user-credentials.html",resolve:{realm:function(e){return e()},user:function(e){return e()}},controller:"UserCredentialsCtrl"}).when("/realms/:realm/users/:user/role-mappings",{templateUrl:resourceUrl+"/partials/role-mappings.html",resolve:{realm:function(e){return e()},user:function(e){return e()},clients:function(e){return e()},client:function(){return{}}},controller:"UserRoleMappingCtrl"}).when("/realms/:realm/users/:user/groups",{templateUrl:resourceUrl+"/partials/user-group-membership.html",resolve:{realm:function(e){return e()},user:function(e){return e()}},controller:"UserGroupMembershipCtrl"}).when("/realms/:realm/users/:user/sessions",{templateUrl:resourceUrl+"/partials/user-sessions.html",resolve:{realm:function(e){return e()},user:function(e){return e()},sessions:function(e){return e()}},controller:"UserSessionsCtrl"}).when("/realms/:realm/users/:user/federated-identity",{templateUrl:resourceUrl+"/partials/user-federated-identity-list.html",resolve:{realm:function(e){return e()},user:function(e){return e()},federatedIdentities:function(e){return e()}},controller:"UserFederatedIdentityCtrl"}).when("/create/federated-identity/:realm/:user",{templateUrl:resourceUrl+"/partials/user-federated-identity-detail.html",resolve:{realm:function(e){return e()},user:function(e){return e()},federatedIdentities:function(e){return e()}},controller:"UserFederatedIdentityAddCtrl"}).when("/realms/:realm/users/:user/consents",{templateUrl:resourceUrl+"/partials/user-consents.html",resolve:{realm:function(e){return e()},user:function(e){return e()},userConsents:function(e){return e()}},controller:"UserConsentsCtrl"}).when("/realms/:realm/users/:user/offline-sessions/:client",{templateUrl:resourceUrl+"/partials/user-offline-sessions.html",resolve:{realm:function(e){return e()},user:function(e){return e()},client:function(e){return e()},offlineSessions:function(e){return e()}},controller:"UserOfflineSessionsCtrl"}).when("/realms/:realm/users",{templateUrl:resourceUrl+"/partials/user-list.html",resolve:{realm:function(e){return e()}},controller:"UserListCtrl"}).when("/create/role/:realm",{templateUrl:resourceUrl+"/partials/role-detail.html",resolve:{realm:function(e){return e()},role:function(){return{}},roles:function(e){return e()},clients:function(e){return e()}},controller:"RoleDetailCtrl"}).when("/realms/:realm/roles/:role",{templateUrl:resourceUrl+"/partials/role-detail.html",resolve:{realm:function(e){return e()},role:function(e){return e()},roles:function(e){return e()},clients:function(e){return e()}},controller:"RoleDetailCtrl"}).when("/realms/:realm/roles/:role/role-attributes",{templateUrl:resourceUrl+"/partials/role-attributes.html",resolve:{realm:function(e){return e()},role:function(e){return e()},roles:function(e){return e()},clients:function(e){return e()}},controller:"RoleDetailCtrl"}).when("/realms/:realm/roles/:role/users",{templateUrl:resourceUrl+"/partials/realm-role-users.html",resolve:{realm:function(e){return e()},role:function(e){return e()}},controller:"RoleMembersCtrl"}).when("/realms/:realm/roles",{templateUrl:resourceUrl+"/partials/role-list.html",resolve:{realm:function(e){return e()}},controller:"RoleListCtrl"}).when("/realms/:realm/groups",{templateUrl:resourceUrl+"/partials/group-list.html",resolve:{realm:function(e){return e()}},controller:"GroupListCtrl"}).when("/create/group/:realm/parent/:parentId",{templateUrl:resourceUrl+"/partials/create-group.html",resolve:{realm:function(e){return e()},parentId:function(e){return e.current.params.parentId}},controller:"GroupCreateCtrl"}).when("/realms/:realm/groups/:group",{templateUrl:resourceUrl+"/partials/group-detail.html",resolve:{realm:function(e){return e()},group:function(e){return e()}},controller:"GroupDetailCtrl"}).when("/realms/:realm/groups/:group/attributes",{templateUrl:resourceUrl+"/partials/group-attributes.html",resolve:{realm:function(e){return e()},group:function(e){return e()}},controller:"GroupDetailCtrl"}).when("/realms/:realm/groups/:group/members",{templateUrl:resourceUrl+"/partials/group-members.html",resolve:{realm:function(e){return e()},group:function(e){return e()}},controller:"GroupMembersCtrl"}).when("/realms/:realm/groups/:group/role-mappings",{templateUrl:resourceUrl+"/partials/group-role-mappings.html",resolve:{realm:function(e){return e()},group:function(e){return e()},clients:function(e){return e()},client:function(){return{}}},controller:"GroupRoleMappingCtrl"}).when("/realms/:realm/default-groups",{templateUrl:resourceUrl+"/partials/default-groups.html",resolve:{realm:function(e){return e()}},controller:"DefaultGroupsCtrl"}).when("/create/role/:realm/clients/:client",{templateUrl:resourceUrl+"/partials/client-role-detail.html",resolve:{realm:function(e){return e()},client:function(e){return e()},role:function(){return{}},roles:function(e){return e()},clients:function(e){return e()}},controller:"ClientRoleDetailCtrl"}).when("/realms/:realm/clients/:client/roles/:role",{templateUrl:resourceUrl+"/partials/client-role-detail.html",resolve:{realm:function(e){return e()},client:function(e){return e()},role:function(e){return e()},roles:function(e){return e()},clients:function(e){return e()}},controller:"ClientRoleDetailCtrl"}).when("/realms/:realm/clients/:client/roles/:role/role-attributes",{templateUrl:resourceUrl+"/partials/client-role-attributes.html",resolve:{realm:function(e){return e()},client:function(e){return e()},role:function(e){return e()},roles:function(e){return e()},clients:function(e){return e()}},controller:"ClientRoleDetailCtrl"}).when("/realms/:realm/clients/:client/roles/:role/users",{templateUrl:resourceUrl+"/partials/client-role-users.html",resolve:{realm:function(e){return e()},client:function(e){return e()},role:function(e){return e()}},controller:"ClientRoleMembersCtrl"}).when("/realms/:realm/clients/:client/mappers",{templateUrl:resourceUrl+"/partials/client-mappers.html",resolve:{realm:function(e){return e()},client:function(e){return e()},serverInfo:function(e){return e()}},controller:"ClientProtocolMapperListCtrl"}).when("/realms/:realm/clients/:client/add-mappers",{templateUrl:resourceUrl+"/partials/client-mappers-add.html",resolve:{realm:function(e){return e()},client:function(e){return e()},serverInfo:function(e){return e()}},controller:"AddBuiltinProtocolMapperCtrl"}).when("/realms/:realm/clients/:client/mappers/:id",{templateUrl:resourceUrl+"/partials/client-protocol-mapper-detail.html",resolve:{realm:function(e){return e()},client:function(e){return e()},serverInfo:function(e){return e()},mapper:function(e){return e()},clients:function(e){return e()}},controller:"ClientProtocolMapperCtrl"}).when("/create/client/:realm/:client/mappers",{templateUrl:resourceUrl+"/partials/client-protocol-mapper-detail.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()},client:function(e){return e()},clients:function(e){return e()}},controller:"ClientProtocolMapperCreateCtrl"}).when("/realms/:realm/clients/:client/client-scopes/setup-scopes",{templateUrl:resourceUrl+"/partials/client-scopes-setup.html",resolve:{realm:function(e){return e()},client:function(e){return e()},clientScopes:function(e){return e()},serverInfo:function(e){return e()},clientDefaultClientScopes:function(e){return e()},clientOptionalClientScopes:function(e){return e()}},controller:"ClientClientScopesSetupCtrl"}).when("/realms/:realm/clients/:client/client-scopes/evaluate-scopes",{templateUrl:resourceUrl+"/partials/client-scopes-evaluate.html",resolve:{realm:function(e){return e()},client:function(e){return e()},clients:function(e){return e()},clientScopes:function(e){return e()},clientDefaultClientScopes:function(e){return e()},clientOptionalClientScopes:function(e){return e()},serverInfo:function(e){return e()}},controller:"ClientClientScopesEvaluateCtrl"}).when("/realms/:realm/client-scopes/:clientScope/mappers",{templateUrl:resourceUrl+"/partials/client-scope-mappers.html",resolve:{realm:function(e){return e()},clientScope:function(e){return e()},serverInfo:function(e){return e()}},controller:"ClientScopeProtocolMapperListCtrl"}).when("/realms/:realm/client-scopes/:clientScope/add-mappers",{templateUrl:resourceUrl+"/partials/client-scope-mappers-add.html",resolve:{realm:function(e){return e()},clientScope:function(e){return e()},serverInfo:function(e){return e()}},controller:"ClientScopeAddBuiltinProtocolMapperCtrl"}).when("/realms/:realm/client-scopes/:clientScope/mappers/:id",{templateUrl:resourceUrl+"/partials/client-scope-protocol-mapper-detail.html",resolve:{realm:function(e){return e()},clientScope:function(e){return e()},serverInfo:function(e){return e()},mapper:function(e){return e()},clients:function(e){return e()}},controller:"ClientScopeProtocolMapperCtrl"}).when("/create/client-scope/:realm/:clientScope/mappers",{templateUrl:resourceUrl+"/partials/client-scope-protocol-mapper-detail.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()},clientScope:function(e){return e()},clients:function(e){return e()}},controller:"ClientScopeProtocolMapperCreateCtrl"}).when("/realms/:realm/clients/:client/sessions",{templateUrl:resourceUrl+"/partials/client-sessions.html",resolve:{realm:function(e){return e()},client:function(e){return e()},sessionCount:function(e){return e()}},controller:"ClientSessionsCtrl"}).when("/realms/:realm/clients/:client/offline-access",{templateUrl:resourceUrl+"/partials/client-offline-sessions.html",resolve:{realm:function(e){return e()},client:function(e){return e()},offlineSessionCount:function(e){return e()}},controller:"ClientOfflineSessionsCtrl"}).when("/realms/:realm/clients/:client/credentials",{templateUrl:resourceUrl+"/partials/client-credentials.html",resolve:{realm:function(e){return e()},client:function(e){return e()},clientAuthenticatorProviders:function(e){return e()},clientConfigProperties:function(e){return e()}},controller:"ClientCredentialsCtrl"}).when("/realms/:realm/clients/:client/credentials/client-jwt/:keyType/import/:attribute",{templateUrl:resourceUrl+"/partials/client-credentials-jwt-key-import.html",resolve:{realm:function(e){return e()},client:function(e){return e()},callingContext:function(){return"jwt-credentials"}},controller:"ClientCertificateImportCtrl"}).when("/realms/:realm/clients/:client/credentials/client-jwt/:keyType/export/:attribute",{templateUrl:resourceUrl+"/partials/client-credentials-jwt-key-export.html",resolve:{realm:function(e){return e()},client:function(e){return e()},callingContext:function(){return"jwt-credentials"}},controller:"ClientCertificateExportCtrl"}).when("/realms/:realm/clients/:client/identity-provider",{templateUrl:resourceUrl+"/partials/client-identity-provider.html",resolve:{realm:function(e){return e()},client:function(e){return e()}},controller:"ClientIdentityProviderCtrl"}).when("/realms/:realm/clients/:client/clustering",{templateUrl:resourceUrl+"/partials/client-clustering.html",resolve:{realm:function(e){return e()},client:function(e){return e()}},controller:"ClientClusteringCtrl"}).when("/register-node/realms/:realm/clients/:client/clustering",{templateUrl:resourceUrl+"/partials/client-clustering-node.html",resolve:{realm:function(e){return e()},client:function(e){return e()}},controller:"ClientClusteringNodeCtrl"}).when("/realms/:realm/clients/:client/clustering/:node",{templateUrl:resourceUrl+"/partials/client-clustering-node.html",resolve:{realm:function(e){return e()},client:function(e){return e()}},controller:"ClientClusteringNodeCtrl"}).when("/realms/:realm/clients/:client/saml/keys",{templateUrl:resourceUrl+"/partials/client-saml-keys.html",resolve:{realm:function(e){return e()},client:function(e){return e()}},controller:"ClientSamlKeyCtrl"}).when("/realms/:realm/clients/:client/saml/:keyType/import/:attribute",{templateUrl:resourceUrl+"/partials/client-saml-key-import.html",resolve:{realm:function(e){return e()},client:function(e){return e()},callingContext:function(){return"saml"}},controller:"ClientCertificateImportCtrl"}).when("/realms/:realm/clients/:client/saml/:keyType/export/:attribute",{templateUrl:resourceUrl+"/partials/client-saml-key-export.html",resolve:{realm:function(e){return e()},client:function(e){return e()},callingContext:function(){return"saml"}},controller:"ClientCertificateExportCtrl"}).when("/realms/:realm/clients/:client/roles",{templateUrl:resourceUrl+"/partials/client-role-list.html",resolve:{realm:function(e){return e()},client:function(e){return e()}},controller:"ClientRoleListCtrl"}).when("/realms/:realm/clients/:client/revocation",{templateUrl:resourceUrl+"/partials/client-revocation.html",resolve:{realm:function(e){return e()},client:function(e){return e()}},controller:"ClientRevocationCtrl"}).when("/realms/:realm/clients/:client/scope-mappings",{templateUrl:resourceUrl+"/partials/client-scope-mappings.html",resolve:{realm:function(e){return e()},client:function(e){return e()},clients:function(e){return e()}},controller:"ClientScopeMappingCtrl"}).when("/realms/:realm/clients/:client/installation",{templateUrl:resourceUrl+"/partials/client-installation.html",resolve:{realm:function(e){return e()},client:function(e){return e()},serverInfo:function(e){return e()}},controller:"ClientInstallationCtrl"}).when("/realms/:realm/clients/:client/service-account-roles",{templateUrl:resourceUrl+"/partials/client-service-account-roles.html",resolve:{realm:function(e){return e()},user:function(e){return e()},clients:function(e){return e()},client:function(e){return e()}},controller:"UserRoleMappingCtrl"}).when("/create/client/:realm",{templateUrl:resourceUrl+"/partials/create-client.html",resolve:{realm:function(e){return e()},clients:function(e){return e()},client:function(){return{}},flows:function(e){return e()},serverInfo:function(e){return e()}},controller:"CreateClientCtrl"}).when("/realms/:realm/clients/:client",{templateUrl:resourceUrl+"/partials/client-detail.html",resolve:{realm:function(e){return e()},clients:function(e){return e()},client:function(e){return e()},flows:function(e){return e()},serverInfo:function(e){return e()}},controller:"ClientDetailCtrl"}).when("/create/client-scope/:realm",{templateUrl:resourceUrl+"/partials/client-scope-detail.html",resolve:{realm:function(e){return e()},clientScope:function(){return{}},serverInfo:function(e){return e()}},controller:"ClientScopeDetailCtrl"}).when("/realms/:realm/client-scopes/:clientScope",{templateUrl:resourceUrl+"/partials/client-scope-detail.html",resolve:{realm:function(e){return e()},clientScope:function(e){return e()},serverInfo:function(e){return e()}},controller:"ClientScopeDetailCtrl"}).when("/realms/:realm/client-scopes/:clientScope/scope-mappings",{templateUrl:resourceUrl+"/partials/client-scope-scope-mappings.html",resolve:{realm:function(e){return e()},clientScope:function(e){return e()},clients:function(e){return e()}},controller:"ClientScopeScopeMappingCtrl"}).when("/realms/:realm/clients",{templateUrl:resourceUrl+"/partials/client-list.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"ClientListCtrl"}).when("/realms/:realm/client-scopes",{templateUrl:resourceUrl+"/partials/client-scope-list.html",resolve:{realm:function(e){return e()},clientScopes:function(e){return e()},serverInfo:function(e){return e()}},controller:"ClientScopeListCtrl"}).when("/realms/:realm/default-client-scopes",{templateUrl:resourceUrl+"/partials/client-scopes-realm-default.html",resolve:{realm:function(e){return e()},clientScopes:function(e){return e()},serverInfo:function(e){return e()},realmDefaultClientScopes:function(e){return e()},realmOptionalClientScopes:function(e){return e()}},controller:"ClientScopesRealmDefaultCtrl"}).when("/import/client/:realm",{templateUrl:resourceUrl+"/partials/client-import.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"ClientImportCtrl"}).when("/realms/:realm/client-stores",{templateUrl:resourceUrl+"/partials/client-storage-list.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"ClientStoresCtrl"}).when("/realms/:realm/client-storage/providers/:provider/:componentId",{templateUrl:resourceUrl+"/partials/client-storage-generic.html",resolve:{realm:function(e){return e()},instance:function(e){return e()},providerId:function(e){return e.current.params.provider},serverInfo:function(e){return e()}},controller:"GenericClientStorageCtrl"}).when("/create/client-storage/:realm/providers/:provider",{templateUrl:resourceUrl+"/partials/client-storage-generic.html",resolve:{realm:function(e){return e()},instance:function(){return{}},providerId:function(e){return e.current.params.provider},serverInfo:function(e){return e()}},controller:"GenericClientStorageCtrl"}).when("/",{templateUrl:resourceUrl+"/partials/home.html",controller:"HomeCtrl"}).when("/mocks/:realm",{templateUrl:resourceUrl+"/partials/realm-detail_mock.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"RealmDetailCtrl"}).when("/realms/:realm/sessions/revocation",{templateUrl:resourceUrl+"/partials/session-revocation.html",resolve:{realm:function(e){return e()}},controller:"RealmRevocationCtrl"}).when("/realms/:realm/sessions/realm",{templateUrl:resourceUrl+"/partials/session-realm.html",resolve:{realm:function(e){return e()},stats:function(e){return e()}},controller:"RealmSessionStatsCtrl"}).when("/create/user-storage/:realm/providers/ldap",{templateUrl:resourceUrl+"/partials/user-storage-ldap.html",resolve:{realm:function(e){return e()},instance:function(){return{}},providerId:function(e){return e.current.params.provider},serverInfo:function(e){return e()}},controller:"LDAPUserStorageCtrl"}).when("/create/user-storage/:realm/providers/kerberos",{templateUrl:resourceUrl+"/partials/user-storage-kerberos.html",resolve:{realm:function(e){return e()},instance:function(){return{}},providerId:function(e){return"kerberos"},serverInfo:function(e){return e()}},controller:"GenericUserStorageCtrl"}).when("/create/user-storage/:realm/providers/:provider",{templateUrl:resourceUrl+"/partials/user-storage-generic.html",resolve:{realm:function(e){return e()},instance:function(){return{}},providerId:function(e){return e.current.params.provider},serverInfo:function(e){return e()}},controller:"GenericUserStorageCtrl"}).when("/realms/:realm/user-storage/providers/ldap/:componentId",{templateUrl:resourceUrl+"/partials/user-storage-ldap.html",resolve:{realm:function(e){return e()},instance:function(e){return e()},providerId:function(e){return e.current.params.provider},serverInfo:function(e){return e()}},controller:"LDAPUserStorageCtrl"}).when("/realms/:realm/user-storage/providers/kerberos/:componentId",{templateUrl:resourceUrl+"/partials/user-storage-kerberos.html",resolve:{realm:function(e){return e()},instance:function(e){return e()},providerId:function(e){return"kerberos"},serverInfo:function(e){return e()}},controller:"GenericUserStorageCtrl"}).when("/realms/:realm/user-storage/providers/:provider/:componentId",{templateUrl:resourceUrl+"/partials/user-storage-generic.html",resolve:{realm:function(e){return e()},instance:function(e){return e()},providerId:function(e){return e.current.params.provider},serverInfo:function(e){return e()}},controller:"GenericUserStorageCtrl"}).when("/realms/:realm/ldap-mappers/:componentId",{templateUrl:function(e){return resourceUrl+"/partials/user-storage-ldap-mappers.html"},resolve:{realm:function(e){return e()},provider:function(e){return e()},mappers:function(e,r){return e.loadComponents(r.current.params.componentId,"org.keycloak.storage.ldap.mappers.LDAPStorageMapper")}},controller:"LDAPMapperListCtrl"}).when("/create/ldap-mappers/:realm/:componentId",{templateUrl:function(e){return resourceUrl+"/partials/user-storage-ldap-mapper-detail.html"},resolve:{realm:function(e){return e()},provider:function(e){return e()},mapperTypes:function(e,r){return e.loadComponents(r.current.params.componentId,"org.keycloak.storage.ldap.mappers.LDAPStorageMapper")},clients:function(e){return e()}},controller:"LDAPMapperCreateCtrl"}).when("/realms/:realm/ldap-mappers/:componentId/mappers/:mapperId",{templateUrl:function(e){return resourceUrl+"/partials/user-storage-ldap-mapper-detail.html"},resolve:{realm:function(e){return e()},provider:function(e){return e()},mapperTypes:function(e,r){return e.loadComponents(r.current.params.componentId,"org.keycloak.storage.ldap.mappers.LDAPStorageMapper")},mapper:function(e){return e()},clients:function(e){return e()}},controller:"LDAPMapperCtrl"}).when("/realms/:realm/user-federation",{templateUrl:resourceUrl+"/partials/user-federation.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"UserFederationCtrl"}).when("/realms/:realm/defense/headers",{templateUrl:resourceUrl+"/partials/defense-headers.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"DefenseHeadersCtrl"}).when("/realms/:realm/defense/brute-force",{templateUrl:resourceUrl+"/partials/brute-force.html",resolve:{realm:function(e){return e()}},controller:"RealmBruteForceCtrl"}).when("/realms/:realm/protocols",{templateUrl:resourceUrl+"/partials/protocol-list.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"ProtocolListCtrl"}).when("/realms/:realm/authentication/flows",{templateUrl:resourceUrl+"/partials/authentication-flows.html",resolve:{realm:function(e){return e()},flows:function(e){return e()},selectedFlow:function(){return null}},controller:"AuthenticationFlowsCtrl"}).when("/realms/:realm/authentication/flow-bindings",{templateUrl:resourceUrl+"/partials/authentication-flow-bindings.html",resolve:{realm:function(e){return e()},flows:function(e){return e()},serverInfo:function(e){return e()}},controller:"RealmFlowBindingCtrl"}).when("/realms/:realm/authentication/flows/:flow",{templateUrl:resourceUrl+"/partials/authentication-flows.html",resolve:{realm:function(e){return e()},flows:function(e){return e()},selectedFlow:function(e){return e.current.params.flow}},controller:"AuthenticationFlowsCtrl"}).when("/realms/:realm/authentication/flows/:flow/create/execution/:topFlow",{templateUrl:resourceUrl+"/partials/create-execution.html",resolve:{realm:function(e){return e()},topFlow:function(e){return e.current.params.topFlow},parentFlow:function(e){return e()},formActionProviders:function(e){return e()},authenticatorProviders:function(e){return e()},clientAuthenticatorProviders:function(e){return e()}},controller:"CreateExecutionCtrl"}).when("/realms/:realm/authentication/flows/:flow/create/flow/execution/:topFlow",{templateUrl:resourceUrl+"/partials/create-flow-execution.html",resolve:{realm:function(e){return e()},topFlow:function(e){return e.current.params.topFlow},parentFlow:function(e){return e()},formProviders:function(e){return e()}},controller:"CreateExecutionFlowCtrl"}).when("/realms/:realm/authentication/create/flow",{templateUrl:resourceUrl+"/partials/create-flow.html",resolve:{realm:function(e){return e()}},controller:"CreateFlowCtrl"}).when("/realms/:realm/authentication/required-actions",{templateUrl:resourceUrl+"/partials/required-actions.html",resolve:{realm:function(e){return e()},unregisteredRequiredActions:function(e){return e()}},controller:"RequiredActionsCtrl"}).when("/realms/:realm/authentication/password-policy",{templateUrl:resourceUrl+"/partials/password-policy.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"RealmPasswordPolicyCtrl"}).when("/realms/:realm/authentication/otp-policy",{templateUrl:resourceUrl+"/partials/otp-policy.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"RealmOtpPolicyCtrl"}).when("/realms/:realm/authentication/webauthn-policy",{templateUrl:resourceUrl+"/partials/webauthn-policy.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"RealmWebAuthnPolicyCtrl"}).when("/realms/:realm/authentication/webauthn-policy-passwordless",{templateUrl:resourceUrl+"/partials/webauthn-policy-passwordless.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"RealmWebAuthnPasswordlessPolicyCtrl"}).when("/realms/:realm/authentication/ciba-policy",{templateUrl:resourceUrl+"/partials/ciba-policy.html",resolve:{realm:function(e){return e()},serverInfo:function(e){return e()}},controller:"RealmCibaPolicyCtrl"}).when("/realms/:realm/authentication/flows/:flow/config/:provider/:config",{templateUrl:resourceUrl+"/partials/authenticator-config.html",resolve:{realm:function(e){return e()},flow:function(e){return e()},configType:function(e){return e()},config:function(e){return e()}},controller:"AuthenticationConfigCtrl"}).when("/create/authentication/:realm/flows/:flow/execution/:executionId/provider/:provider",{templateUrl:resourceUrl+"/partials/authenticator-config.html",resolve:{realm:function(e){return e()},flow:function(e){return e()},configType:function(e){return e()},execution:function(e){return e()}},controller:"AuthenticationConfigCreateCtrl"}).when("/create/localization/:realm/:locale",{templateUrl:resourceUrl+"/partials/realm-localization-detail.html",resolve:{realm:function(e){return e()},locale:function(e){return e.current.params.locale},key:function(){return null},localizationText:function(){return null}},controller:"RealmLocalizationDetailCtrl"}).when("/realms/:realm/localization/:locale/:key",{templateUrl:resourceUrl+"/partials/realm-localization-detail.html",resolve:{realm:function(e){return e()},locale:function(e){return e.current.params.locale},key:function(e){return e.current.params.key},localizationText:function(e){return e()}},controller:"RealmLocalizationDetailCtrl"}).when("/server-info",{templateUrl:resourceUrl+"/partials/server-info.html",resolve:{serverInfo:function(e){return e()}},controller:"ServerInfoCtrl"}).when("/server-info/providers",{templateUrl:resourceUrl+"/partials/server-info-providers.html",resolve:{serverInfo:function(e){return e()}},controller:"ServerInfoCtrl"}).when("/logout",{templateUrl:resourceUrl+"/partials/home.html",controller:"LogoutCtrl"}).when("/notfound",{templateUrl:resourceUrl+"/partials/notfound.html"}).when("/forbidden",{templateUrl:resourceUrl+"/partials/forbidden.html"}).otherwise({templateUrl:resourceUrl+"/partials/pagenotfound.html"})}]),module.config((function(e){e.interceptors.push("errorInterceptor");e.defaults.transformRequest.push((function(e,r){return 0==resourceRequests&&(loadingTimer=window.setTimeout((function(){$("#loading").show(),loadingTimer=-1}),500)),resourceRequests++,e})),e.interceptors.push("spinnerInterceptor"),e.interceptors.push("authInterceptor")})),module.factory("spinnerInterceptor",(function(e,r,t,n){return{response:function(e){return 0==--resourceRequests&&(-1!=loadingTimer&&(window.clearTimeout(loadingTimer),loadingTimer=-1),$("#loading").hide()),e},responseError:function(r){return 0==--resourceRequests&&(-1!=loadingTimer&&(window.clearTimeout(loadingTimer),loadingTimer=-1),$("#loading").hide()),e.reject(r)}}})),module.factory("errorInterceptor",(function(e,r,t,n,l,o){return{response:function(e){return e},responseError:function(r){return 401==r.status?o.authz.logout():403==r.status?n.path("/forbidden"):404==r.status?n.path("/notfound"):r.status?r.data&&r.data.errorMessage?l.error(r.data.errorMessage):r.data&&r.data.error_description?l.error(r.data.error_description):l.error("An unexpected server error has occurred"):l.error("No response from server."),e.reject(r)}}})),module.directive("collapsable",(function(){return function(e,r,t){r.click((function(){$(this).toggleClass("collapsed"),$(this).find(".toggle-icons").toggleClass("kc-icon-collapse").toggleClass("kc-icon-expand"),$(this).find(".toggle-icons").text("Icon: expand"==$(this).text()?"Icon: collapse":"Icon: expand"),$(this).parent().find(".form-group").toggleClass("hidden")}))}})),module.directive("uncollapsed",(function(){return function(e,r,t){r.prepend('<i class="toggle-class fa fa-angle-down"></i> '),r.click((function(){$(this).find(".toggle-class").toggleClass("fa-angle-down").toggleClass("fa-angle-right"),$(this).parent().find(".form-group").toggleClass("hidden")}))}})),module.directive("collapsed",(function(){return function(e,r,t){r.prepend('<i class="toggle-class fa fa-angle-right"></i> '),r.parent().find(".form-group").toggleClass("hidden"),r.click((function(){$(this).find(".toggle-class").toggleClass("fa-angle-down").toggleClass("fa-angle-right"),$(this).parent().find(".form-group").toggleClass("hidden")}))}})),module.directive("onoffswitch",(function(){return{restrict:"EA",replace:!0,scope:{name:"@",id:"@",ngModel:"=",ngDisabled:"=",kcOnText:"@onText",kcOffText:"@offText"},template:"<span><div class='onoffswitch' tabindex='0'><input type='checkbox' ng-model='ngModel' ng-disabled='ngDisabled' class='onoffswitch-checkbox' name='{{name}}' id='{{id}}'><label for='{{id}}' class='onoffswitch-label'><span class='onoffswitch-inner'><span class='onoffswitch-active'>{{kcOnText}}</span><span class='onoffswitch-inactive'>{{kcOffText}}</span></span><span class='onoffswitch-switch'></span></label></div></span>",compile:function(e,r){e.removeAttr("name"),e.removeAttr("id"),r.onText||(r.onText="ON"),r.offText||(r.offText="OFF"),e.bind("keydown",(function(e){var r=e.keyCode||e.which;32!==r&&13!==r||(e.stopImmediatePropagation(),e.preventDefault(),$(e.target).find("input").click())}))}}})),module.directive("onoffswitchstring",(function(){return{restrict:"EA",replace:!0,scope:{name:"=",id:"=",value:"=",ngModel:"=",ngDisabled:"=",kcOnText:"@onText",kcOffText:"@offText"},template:'<span><div class="onoffswitch" tabindex="0"><input type="checkbox" ng-true-value="\'true\'" ng-false-value="\'false\'" ng-model="ngModel" ng-disabled="ngDisabled" class="onoffswitch-checkbox" name="kc{{name}}" id="kc{{id}}"><label for="kc{{id}}" class="onoffswitch-label"><span class="onoffswitch-inner"><span class="onoffswitch-active">{{kcOnText}}</span><span class="onoffswitch-inactive">{{kcOffText}}</span></span><span class="onoffswitch-switch"></span></label></div></span>',compile:function(e,r){r.onText||(r.onText="ON"),r.offText||(r.offText="OFF"),e.bind("keydown click",(function(e){var r=e.keyCode||e.which;32!==r&&13!==r||(e.stopImmediatePropagation(),e.preventDefault(),$(e.target).find("input").click())}))}}})),module.directive("onoffswitchvalue",(function(){return{restrict:"EA",replace:!0,scope:{name:"@",id:"@",trueValue:"@",falseValue:"@",ngModel:"=",ngDisabled:"=",kcOnText:"@onText",kcOffText:"@offText"},template:"<span><div class='onoffswitch' tabindex='0'><input type='checkbox' ng-true-value='{{trueValue}}' ng-false-value='{{falseValue}}' ng-model='ngModel' ng-disabled='ngDisabled' class='onoffswitch-checkbox' name='{{name}}' id='{{id}}'><label for='{{id}}' class='onoffswitch-label'><span class='onoffswitch-inner'><span class='onoffswitch-active'>{{kcOnText}}</span><span class='onoffswitch-inactive'>{{kcOffText}}</span></span><span class='onoffswitch-switch'></span></label></div></span>",compile:function(e,r){e.removeAttr("name"),e.removeAttr("id"),r.trueValue||(r.trueValue="'true'"),r.falseValue||(r.falseValue="'false'"),r.onText||(r.onText="ON"),r.offText||(r.offText="OFF"),e.bind("keydown",(function(e){var r=e.keyCode||e.which;32!==r&&13!==r||(e.stopImmediatePropagation(),e.preventDefault(),$(e.target).find("input").click())}))}}})),module.directive("kcInput",(function(){return{scope:!0,replace:!1,link:function(e,r,t){var n=r.children("form"),l=r.children("label"),o=r.children("input"),i=n.attr("name")+"."+o.attr("name");r.attr("class","control-group"),l.attr("class","control-label"),l.attr("for",i),o.wrap('<div class="controls"/>'),o.attr("id",i),o.attr("placeHolder")||o.attr("placeHolder",l.text()),o.attr("required")&&l.append(' <span class="required">*</span>')}}})),module.directive("kcEnter",(function(){return function(e,r,t){r.bind("keydown keypress",(function(r){13===r.which&&(e.$apply((function(){e.$eval(t.kcEnter)})),r.preventDefault())}))}})),module.directive("kcNoReservedChars",(function(e,r){return function(t,n){n.bind("keypress",(function(n){var l=String.fromCharCode(n.which||n.keyCode||0);(l.match("[:/?#[@!$&()*+,;=]")||"]"===l||"'"===l)&&(n.preventDefault(),t.$apply((function(){e.warn(r.instant("key-not-allowed-here",{character:l}))})))}))}})),module.directive("kcSave",(function(e,r,t){return{restrict:"A",link:function(e,n,l,o){n.addClass("btn btn-primary"),n.attr("type","submit");var i=!1;n.on("click",(function(l){if(!e.hasOwnProperty("changed")||e.changed){if(i)return l.preventDefault(),void l.stopImmediatePropagation();i=!0,r((function(){i=!1}),500,!1),e.$apply((function(){var r=n.closest("form");if(r&&r.attr("name")){var l=r.find(".ng-valid");if(e[r.attr("name")].$valid)l.parent().removeClass("has-error"),e.save();else t.error("Missing or invalid field(s). Please verify the fields in red."),l.parent().removeClass("has-error"),r.find(".ng-invalid").parent().addClass("has-error")}}))}}))}}})),module.directive("kcReset",(function(e,r){return{restrict:"A",link:function(e,r,t,n){r.addClass("btn btn-default"),r.attr("type","submit"),r.bind("click",(function(){e.$apply((function(){var t=r.closest("form");t&&t.attr("name")&&(t.find(".ng-valid").removeClass("error"),t.find(".ng-invalid").removeClass("error"),e.reset())}))}))}}})),module.directive("kcCancel",(function(e,r){return{restrict:"A",link:function(e,r,t,n){r.addClass("btn btn-default"),r.attr("type","submit")}}})),module.directive("kcDelete",(function(e,r){return{restrict:"A",link:function(e,r,t,n){r.addClass("btn btn-danger"),r.attr("type","submit")}}})),module.directive("kcDropdown",(function(e,r){return{scope:{kcOptions:"=",kcModel:"=",id:"=",kcPlaceholder:"@"},restrict:"EA",replace:!0,templateUrl:resourceUrl+"/templates/kc-select.html",link:function(e,r,t){e.updateModel=function(r){e.kcModel=r}}}})),module.directive("kcReadOnly",(function(){var e={};return{replace:!1,link:function(r,t,n){var l=function(r,t){t.disabled||(e[t.tagName+r]=!0,t.disabled=!0)},o=function(r,t){e[t.tagName+r]&&(t.disabled=!1,delete e[r])},i=function(e,r){return!r.attributes["kc-read-only-ignore"]};r.$watch(n.kcReadOnly,(function(e){e?(t.find("input").filter(i).each(l),t.find("button").filter(i).each(l),t.find("select").filter(i).each(l),t.find("textarea").filter(i).each(l)):(t.find("input").filter(i).each(o),t.find("input").filter(i).each(o),t.find("button").filter(i).each(o),t.find("select").filter(i).each(o),t.find("textarea").filter(i).each(o))}))}}})),module.directive("kcMenu",(function(){return{scope:!0,restrict:"E",replace:!0,templateUrl:resourceUrl+"/templates/kc-menu.html"}})),module.directive("kcTabsRealm",(function(){return{scope:!0,restrict:"E",replace:!0,templateUrl:resourceUrl+"/templates/kc-tabs-realm.html"}})),module.directive("kcTabsAuthentication",(function(){return{scope:!0,restrict:"E",replace:!0,templateUrl:resourceUrl+"/templates/kc-tabs-authentication.html"}})),module.directive("kcTabsRole",(function(){return{scope:!0,restrict:"E",replace:!0,templateUrl:resourceUrl+"/templates/kc-tabs-role.html"}})),module.directive("kcTabsClientRole",(function(){return{scope:!0,restrict:"E",replace:!0,templateUrl:resourceUrl+"/templates/kc-tabs-client-role.html"}})),module.directive("kcTabsUser",(function(){return{scope:!0,restrict:"E",replace:!0,templateUrl:resourceUrl+"/templates/kc-tabs-user.html"}})),module.directive("kcTabsUsers",(function(){return{scope:!0,restrict:"E",replace:!0,templateUrl:resourceUrl+"/templates/kc-tabs-users.html"}})),module.directive("kcTabsClients",(function(){return{scope:!0,restrict:"E",replace:!0,templateUrl:resourceUrl+"/templates/kc-tabs-clients.html"}})),module.directive("kcTabsGroup",(function(){return{scope:!0,restrict:"E",replace:!0,templateUrl:resourceUrl+"/templates/kc-tabs-group.html"}})),module.directive("kcTabsGroupList",(function(){return{scope:!0,restrict:"E",replace:!0,templateUrl:resourceUrl+"/templates/kc-tabs-group-list.html"}})),module.directive("kcTabsClient",(function(){return{scope:!0,restrict:"E",replace:!0,templateUrl:resourceUrl+"/templates/kc-tabs-client.html"}})),module.directive("kcTabsClientScope",(function(){return{scope:!0,restrict:"E",replace:!0,templateUrl:resourceUrl+"/templates/kc-tabs-client-scope.html"}})),module.directive("kcNavigationUser",(function(){return{scope:!0,restrict:"E",replace:!0,templateUrl:resourceUrl+"/templates/kc-navigation-user.html"}})),module.directive("kcTabsIdentityProvider",(function(){return{scope:!0,restrict:"E",replace:!0,templateUrl:resourceUrl+"/templates/kc-tabs-identity-provider.html"}})),module.directive("kcTabsUserFederation",(function(){return{scope:!0,restrict:"E",replace:!0,templateUrl:resourceUrl+"/templates/kc-tabs-user-federation.html"}})),module.directive("kcTabsLdap",(function(){return{scope:!0,restrict:"E",replace:!0,templateUrl:resourceUrl+"/templates/kc-tabs-ldap.html"}})),module.controller("RoleSelectorModalCtrl",(function(e,r,t,n,l,o,i,a){e.selectedRealmRole={role:void 0},e.selectedClientRole={role:void 0},e.client={selected:void 0},e.selectRealmRole=function(){t[n]=e.selectedRealmRole.role.name,a.close()},e.selectClientRole=function(){t[n]=e.selectedClient.clientId+"."+e.selectedClientRole.role.name,a.close()},e.cancel=function(){a.dismiss()},clientSelectControl(e,r.realm,o),e.selectedClient=null,e.changeClient=function(t){e.selectedClient=t,t&&t.id?(e.selectedClient?i.query({realm:r.realm,client:e.selectedClient.id},(function(r){e.clientRoles=r})):(console.log("selected client was null"),e.clientRoles=null),e.selectedClient=t):e.selectedClient=null},l.query({realm:r.realm},(function(r){e.realmRoles=r}))})),module.controller("ProviderConfigCtrl",(function(e,r,t,n,l){clientSelectControl(r,t.current.params.realm,l),r.fileNames={},r.newMapEntries={};var o={},i={},a=null;r.initEditor=function(e){e.$blockScrolling=1/0},r.initSelectedClient=function(e,n){n[e]&&(r.selectedClient=null,l.query({realm:t.current.params.realm,search:!1,clientId:n[e],max:1},(function(e){e.length>0&&(r.selectedClient=angular.copy(e[0]),r.selectedClient.text=r.selectedClient.clientId)})))},r.openRoleSelector=function(t,n){e.open({templateUrl:resourceUrl+"/partials/modal/role-selector.html",controller:"RoleSelectorModalCtrl",resolve:{realm:function(){return r.realm},config:function(){return n},configName:function(){return t}}})},r.changeClient=function(e,t,n,l){if(!n||!n.id)return t[e]=null,void(r.selectedClient=null);r.selectedClient=n,l?t[e][0]=n.clientId:t[e]=n.clientId},n.convertAllMultivaluedStringValuesToList(r.properties,r.config),n.addLastEmptyValueToMultivaluedLists(r.properties,r.config),r.addValueToMultivalued=function(e){var t=r.config[e],n=t.length-1,l=t[n];console.log("Option="+e+", lastIndex="+n+", lastValue="+l),l.length>0&&t.push("")},r.deleteValueFromMultivalued=function(e,t){r.config[e].splice(t,1)},r.uploadFile=function(e,t,n){var l=new FileReader;l.onload=function(e){r.$apply((function(){n[t][0]=e.target.result}))},l.readAsText(e[0]),r.fileNames[t]=e[0].name},r.addMapEntry=function(e){r.removeMapEntry(e,r.newMapEntries[e].key);var t=JSON.parse(r.config[e]);t.push(r.newMapEntries[e]),r.config[e]=JSON.stringify(t),delete r.newMapEntries[e]},r.removeMapEntry=function(e,t){for(var n=JSON.parse(r.config[e]),l=n.length-1;l>=0;l--)n[l].key===t&&n.splice(l,1);r.config[e]=JSON.stringify(n)},r.updateMapEntry=function(e,t,n){for(var l=JSON.parse(r.config[e]),o=l.length-1;o>=0;o--)l[o].key===t&&(l[o].value=n);r.config[e]=JSON.stringify(l),a="mapValue-"+e+"-"+t},r.jsonParseMap=function(e){void 0===i[e]&&(o[e]="[]",i[e]=[],r.config.hasOwnProperty(e)?(o[e]=r.config[e],i[e]=JSON.parse(o[e])):r.config[e]=o[e]);var t=r.config[e]!==o[e];return t&&(o[e]=r.config[e],i[e]=JSON.parse(o[e])),t||null===a||(document.getElementById(a).focus(),a=null),i[e]}})),module.directive("kcProviderConfig",(function(e){return{scope:{config:"=",properties:"=",realm:"=",clients:"=",configName:"="},restrict:"E",replace:!0,controller:"ProviderConfigCtrl",templateUrl:resourceUrl+"/templates/kc-provider-config.html"}})),module.controller("ComponentRoleSelectorModalCtrl",(function(e,r,t,n,l,o,i,a){e.selectedRealmRole={role:void 0},e.selectedClientRole={role:void 0},e.client={selected:void 0},e.selectRealmRole=function(){t[n][0]=e.selectedRealmRole.role.name,a.close()},e.selectClientRole=function(){t[n][0]=e.client.selected.clientId+"."+e.selectedClientRole.role.name,a.close()},e.cancel=function(){a.dismiss()},e.changeClient=function(){e.client.selected?i.query({realm:r.realm,client:e.client.selected.id},(function(r){e.clientRoles=r})):(console.log("selected client was null"),e.clientRoles=null)},l.query({realm:r.realm},(function(r){e.realmRoles=r})),o.query({realm:r.realm},(function(r){e.clients=r,r.length>0&&(e.client.selected=r[0],e.changeClient())}))})),module.controller("ComponentConfigCtrl",(function(e,r,t,n){r.initSelectedClient=function(e,l){l[e]&&(r.selectedClient=null,n.query({realm:t.current.params.realm,search:!1,clientId:l[e],max:1},(function(e){e.length>0&&(r.selectedClient=angular.copy(e[0]),r.selectedClient.text=r.selectedClient.clientId)})))},r.changeClient=function(e,t,n){if(!n||!n.id)return t[e]=null,void(r.selectedClient=null);r.selectedClient=n,t[e]=n.clientId},r.openRoleSelector=function(t,n){e.open({templateUrl:resourceUrl+"/partials/modal/component-role-selector.html",controller:"ComponentRoleSelectorModalCtrl",resolve:{realm:function(){return r.realm},config:function(){return n},configName:function(){return t}}})}})),module.directive("kcComponentConfig",(function(e){return{scope:{config:"=",properties:"=",realm:"=",clients:"=",configName:"="},restrict:"E",replace:!0,controller:"ComponentConfigCtrl",templateUrl:resourceUrl+"/templates/kc-component-config.html"}})),module.directive("kcSelectAction",(function(e,r){return{restrict:"A",compile:function(e,r){for(var t=r.kcSelectAction.split(" "),n=0;n<t.length;n++)e.bind(t[n],(function(){e.select()}))}}})),module.filter("remove",(function(){return function(e,r,t){if(!e||!r)return e;for(var n=[],l=0;l<e.length;l++){var o=e[l];if(Array.isArray(r)){for(var i=0;i<r.length;i++)if(t){if(r[i][t]==o[t]){o=null;break}}else if(r[i]==o){o=null;break}}else t?r[t]==o[t]&&(o=null):r==o&&(o=null);null!=o&&n.push(o)}return n}})),module.filter("capitalize",(function(){return function(e){if(e){for(var r=e.split(/\s+/),t=0;t<r.length;t++)r[t]=r[t].charAt(0).toUpperCase()+r[t].slice(1);return r.join(" ")}}})),module.filter("toOrderedMapSortedByKey",(function(){return function(e){if(!e)return e;var r=Object.keys(e);if(r.length<=1)return e;r.sort();for(var t={},n=0;n<r.length;n++)t[r[n]]=e[r[n]];return t}})),module.directive("kcSidebarResize",(function(e){return function(r,t){function n(){var e=angular.element(document.getElementsByClassName("navbar-pf")).height(),r=angular.element(document.getElementById("view").getElementsByTagName("div")[0]).height(),n=Math.max(r,window.innerHeight-e-3);t[0].style["min-height"]=n+"px"}n();var l=angular.element(e);r.$watch((function(){return{h:window.innerHeight,w:window.innerWidth}}),(function(){n()}),!0),l.bind("resize",(function(){r.$apply()}))}})),module.directive("kcTooltip",(function(e){return{restrict:"E",replace:!1,terminal:!0,priority:1e3,link:function(r,t,n){var l=angular.element(t[0]),o=l.text();l.text(""),t.addClass("hidden");var i=angular.element(t.parent().children()[0]);i.append(' <i class="fa fa-question-circle text-muted" tooltip="'+o+'" tooltip-placement="right" tooltip-trigger="mouseover mouseout"></i>'),e(i)(r)}}})),module.directive("kcOpen",(function(e){return function(r,t,n){var l;n.$observe("kcOpen",(function(e){l=e})),t.bind("click",(function(){r.$apply((function(){e.path(l)}))}))}})),module.directive("kcOnReadFile",(function(e){return console.debug("kcOnReadFile"),{restrict:"A",scope:!1,link:function(r,t,n){var l=e(n.kcOnReadFile);t.on("change",(function(e){var t=new FileReader;t.onload=function(e){r.$apply((function(){l(r,{$fileContent:e.target.result})}))},t.readAsText((e.srcElement||e.target).files[0])}))}}})),module.controller("PagingCtrl",(function(e){e.currentPageInput=1,e.firstPage=function(){e.hasPrevious()&&(e.currentPage=1,e.currentPageInput=1)},e.lastPage=function(){e.hasNext()&&(e.currentPage=e.numberOfPages,e.currentPageInput=e.numberOfPages)},e.previousPage=function(){e.hasPrevious()&&(e.currentPage--,e.currentPageInput=e.currentPage)},e.nextPage=function(){e.hasNext()&&(e.currentPage++,e.currentPageInput=e.currentPage)},e.hasNext=function(){return e.currentPage<e.numberOfPages},e.hasPrevious=function(){return e.currentPage>1}})),module.factory("KcStrings",(function(){var e={endsWith:function(e,r){return-1!==e.indexOf(r,e.length-r.length)}};return e})),module.directive("kcPaging",(function(){return{scope:{currentPage:"=",currentPageInput:"=",numberOfPages:"="},restrict:"E",replace:!0,controller:"PagingCtrl",templateUrl:resourceUrl+"/templates/kc-paging.html"}})),module.directive("kcValidPage",(function(){return{require:"ngModel",link:function(e,r,t,n){n.$validators.inRange=function(r,t){return t>=1&&t<=e.numberOfPages&&(e.currentPage=t),!0}}}})),module.directive("stringToNumber",(function(){return{require:"ngModel",link:function(e,r,t,n){n.$parsers.push((function(e){return"undefined"===typeof e||null===e?"":""+e})),n.$formatters.push((function(e){return parseFloat(e)}))}}})),module.filter("startFrom",(function(){return function(e,r){return e?(r=+r,e.slice(r)):[]}})),module.directive("kcPassword",(function(e,r){return{restrict:"A",link:function(e,r,t,n){function l(){r.removeClass("password-conceal");var e=r.next().children().first();e.addClass("fa-eye-slash"),e.removeClass("fa-eye")}r.addClass("password-conceal"),r.attr("type","text"),r.attr("autocomplete","off");var o=r.parent(),i=$('<div class="input-group"></div>'),a=$('<span class="input-group-addon btn btn-default"><span class="fa fa-eye"></span></span>').on("click",(function(e){r.hasClass("password-conceal")?l():function(){r.addClass("password-conceal");var e=r.next().children().first();e.removeClass("fa-eye-slash"),e.addClass("fa-eye")}()}));e.$watch(t.ngModel,(function(e){e&&"**********"==e?r.next().addClass("disabled"):e&&0==e.indexOf("${v")?(r.next().addClass("disabled"),l()):r.next().removeClass("disabled")})),r.detach().appendTo(i),i.append(a),o.append(i)}}})),module.filter("resolveClientRootUrl",(function(){return function(e){if(e)return e.replace("${authBaseUrl}",authServerUrl).replace("${authAdminUrl}",authUrl)}}));